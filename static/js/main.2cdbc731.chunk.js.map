{"version":3,"sources":["URLSync.js","App.js","index.js"],"names":["searchStateToURL","searchState","window","location","pathname","qs","stringify","withURLSync","App","state","parse","search","slice","onPopState","setState","onSearchStateChange","clearTimeout","debouncedSetState","setTimeout","history","pushState","addEventListener","this","removeEventListener","props","createURL","Component","searchClient","algoliasearch","Header","SearchBox","connectSearchBox","currentRefinement","refine","className","type","value","onChange","e","target","autoComplete","placeholder","Facets","title","id","RefinementListLinks","attribute","Panel","children","class","Star","active","Stars","rating","stars","i","push","map","idx","Genre","name","Genres","genres","genre","Hit","hit","image","year","style","backgroundImage","Highlight","Results","Stats","Hits","hitComponent","Pagination","connectRefinementList","items","hitComponents","item","isRefined","href","onClick","preventDefault","label","count","InstantSearch","indexName","Configure","hitsPerPage","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2cdbc731.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport qs from 'qs';\n\nconst updateAfter = 700;\nconst searchStateToURL = (searchState) =>\n  searchState ? `${window.location.pathname}?${qs.stringify(searchState)}` : '';\n\nconst withURLSync = (App) =>\n  class WithURLSync extends Component {\n    state = {\n      searchState: qs.parse(window.location.search.slice(1)),\n    };\n\n    componentDidMount() {\n      window.addEventListener('popstate', this.onPopState);\n    }\n\n    componentWillUnmount() {\n      clearTimeout(this.debouncedSetState);\n      window.removeEventListener('popstate', this.onPopState);\n    }\n\n    onPopState = ({ state }) =>\n      this.setState({\n        searchState: state || {},\n      });\n\n    onSearchStateChange = (searchState) => {\n      clearTimeout(this.debouncedSetState);\n\n      this.debouncedSetState = setTimeout(() => {\n        window.history.pushState(\n          searchState,\n          null,\n          searchStateToURL(searchState)\n        );\n      }, updateAfter);\n\n      this.setState({ searchState });\n    };\n\n    render() {\n      const { searchState } = this.state;\n\n      return (\n        <App\n          {...this.props}\n          searchState={searchState}\n          onSearchStateChange={this.onSearchStateChange}\n          createURL={searchStateToURL}\n        />\n      );\n    }\n  };\n\nexport default withURLSync;\n","import React from 'react';\nimport {\n  InstantSearch,\n  Hits,\n  Stats,\n  Pagination,\n  RatingMenu,\n  Highlight,\n  Configure,\n  connectSearchBox,\n  connectRefinementList,\n} from 'react-instantsearch-dom';\nimport algoliasearch from 'algoliasearch/lite';\nimport withURLSync from './URLSync';\nimport './App.css';\n\nconst searchClient = algoliasearch(\n  'HGFLOKUDTP',\n  'cba81d10f83ffbed7c64b962732b0e52'\n);\n\nconst App = (props) => (\n  <InstantSearch\n    searchClient={searchClient}\n    indexName=\"demo_movies\"\n    searchState={props.searchState}\n    createURL={props.createURL}\n    onSearchStateChange={props.onSearchStateChange}\n  >\n    <Configure hitsPerPage={10} />\n    <Header />\n    <section>\n        <div class=\"row\">\n          <div class=\"col-xs-4\">\n            <Facets />\n          </div>\n          <div class=\"col-xs-8\">\n            <Results />\n          </div>\n        </div>\n    </section>\n  </InstantSearch>\n);\n\nconst Header = () => (\n  <header>\n    <SearchBox />\n  </header>\n);\n\nconst SearchBox = connectSearchBox(({ currentRefinement, refine }) => (\n  <div className=\"searchbox-container\">\n    <div className=\"input-group\">\n      <input\n        type=\"search\"\n        value={currentRefinement}\n        onChange={(e) => refine(e.target.value)}\n        autoComplete=\"off\"\n        className=\"form-control\"\n        placeholder=\"Search here\"\n      />\n    </div>\n  </div>\n));\n\nconst Facets = () => (\n  <aside>\n    <h2>Filter</h2>\n    <Panel title=\"Genres\" id=\"genres\">\n      <RefinementListLinks attribute=\"genre\" />\n    </Panel>\n    <Panel title=\"Actors\" id=\"actors\">\n      <RefinementListLinks attribute=\"actors\" />\n    </Panel>\n    <Panel title=\"Year\" id=\"year\">\n      <RefinementListLinks attribute=\"year\" />\n    </Panel>\n  </aside>\n);\n\nconst Panel = ({ title, children, id }) => (\n  <div id={id} class=\"panel\">\n    <h5>{title}\n    </h5>\n    {children}\n  </div>\n);\n\nconst Star = ({ active }) => (\n  <span className={`star${active ? '' : '__empty'}`} />\n);\nconst Stars = ({ rating }) => {\n  const stars = [];\n  for (let i = 1; i <= 5; ++i) {\n    stars.push(i <= rating);\n  }\n  return (\n    <span className=\"stars\">\n      {stars.map((active, idx) => (\n        <Star key={idx} active={active} />\n      ))}\n    </span>\n  );\n};\nconst Genre = ({ name }) => <span className=\"badge\">{name}</span>;\nconst Genres = ({ genres }) => (\n  <p className=\"genre\">\n    {genres.map((genre, idx) => (\n      <Genre name={genre} key={idx} />\n    ))}\n  </p>\n);\n\nconst Hit = (hit) => {\n  const { image, rating, year, genre } = hit.hit;\n  return (\n    <div className=\"hit media\">\n      <div className=\"media-left\">\n        <div\n          className=\"media-object\"\n          style={{ backgroundImage: `url(${image})` }}\n        />\n      </div>\n      <div className=\"media-body\">\n        <h4 className=\"media-heading\">\n          <Highlight attribute=\"title\" hit={hit.hit} />\n          <Stars rating={rating} />\n        </h4>\n        <p className=\"year\">{year}</p>\n        <Genres genres={genre} />\n      </div>\n    </div>\n  );\n};\n\nconst Results = connectSearchBox(() => (\n  <article>\n    <div id=\"stats\" className=\"text-right text-muted\">\n      <Stats />\n    </div>\n    <hr />\n    <div id=\"hits\">\n      <Hits hitComponent={Hit} />\n    </div>\n    <div id=\"pagination\" className=\"text-center\">\n      <Pagination />\n    </div>\n  </article>\n));\n\nconst RefinementListLinks = connectRefinementList(\n  ({ items, refine, createURL }) => {\n    const hitComponents = items.map((item) => (\n      <div className={item.isRefined ? ' active' : ''} key={item.label}>\n        <a\n          className=\"item\"\n          href={createURL(item.value)}\n          onClick={(e) => {\n            e.preventDefault();\n            refine(item.value);\n          }}\n        >\n          <span> {item.label}</span>\n          <span className=\"badge pull-right\">{item.count}</span>\n        </a>\n      </div>\n    ));\n\n    return <div className=\"nav nav-list\">{hitComponents}</div>;\n  }\n);\n\nexport default withURLSync(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}